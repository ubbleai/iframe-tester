(this["webpackJsonpiframe-sdk-demo"]=this["webpackJsonpiframe-sdk-demo"]||[]).push([[0],{101:function(e,t,a){},107:function(e,t,a){},133:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(6),o=a.n(c),l=(a(101),a(39)),i=a(25),u=a.n(i),s=a(40),m=a(19),d=a(3),f=a(136),b=a(14),g=a(1),h=a.n(g),p=(a(107),function(e){return e.app.url}),E=function(e){return e.app.refreshTs},v=function(e){return e.app.height},O=function(e){return e.app.width},j=function(e){return e.app.allowCamera},w=function(e){return e.app.logs},k=function(e){return e.ui.darkMode},y=a(47),C=a(10),L={url:void 0,refreshTs:Date.now(),width:600,height:500,allowCamera:!0,logs:[]},I=Object(C.b)({name:"app",initialState:L,reducers:{setUrl:function(e,t){var a=t.payload;e.url=a},setHeight:function(e,t){var a=t.payload;e.height=a},setWidth:function(e,t){var a=t.payload;e.width=a},updateIFrame:function(e){e.refreshTs=Date.now()},setAllowCamera:function(e,t){var a=t.payload;e.allowCamera=a},addLog:function(e,t){var a=t.payload,n=e.logs;e.logs=[].concat(Object(y.a)(n),[a])},resetLogs:function(e){e.logs=[]}}}),N=I,S=I.actions,T=S.updateIFrame,D=S.setHeight,U=S.setWidth,x=S.setUrl,F=S.setAllowCamera,M=S.addLog,A=S.resetLogs,W=function(e){var t=e.refreshTs,a=Object(n.createRef)(),c=Object(d.c)(p),o=Object(d.c)(O),l=Object(d.c)(v),i=Object(d.c)(j),u=Object(d.b)();return Object(n.useEffect)((function(){var e=new Ubble.IDV(a.current,{height:l,width:o,identificationUrl:c,allowCamera:i,events:{onComplete:function(e){u(M({date:Date.now(),content:JSON.stringify(e)}))},onAbort:function(e){u(M({date:Date.now(),content:JSON.stringify(e)}))}}});return function(){u(A),e.destroy()}}),[t]),r.a.createElement("div",{ref:a,className:"iframe-ref"})},H=function(){var e,t=Object(d.c)(p),a=Object(d.c)(v),n=Object(d.c)(O),c=Object(d.c)(j),o=Object(d.b)(),l=function(e){return function(t){var a=t.target.value;o(e(+a))}};return r.a.createElement("div",{className:"iframe-settings"},r.a.createElement(f.d,{label:"Identification URL"},r.a.createElement(f.f,{id:"url",leftIcon:"link",autoComplete:"off",type:"url",value:t,onChange:(e=x,function(t){var a=t.target.value;console.log(a,t),o(e(a))})})),r.a.createElement(f.d,{label:"Height"},r.a.createElement(f.f,{id:"height",leftIcon:"changes",autoComplete:"off",value:String(a),type:"number",onChange:l(D)})),r.a.createElement(f.d,{label:"Width"},r.a.createElement(f.f,{id:"width",leftIcon:"exchange",autoComplete:"off",value:String(n),type:"number",onChange:l(U)})),r.a.createElement(f.d,{label:"Allow Camera"},r.a.createElement(f.l,{checked:c,labelElement:"Allow Camera",innerLabelChecked:"yes",innerLabel:"no",onChange:function(e){return function(t){var a=t.target.checked;o(e(a))}}(F)})),r.a.createElement(f.a,{onClick:function(){o(T())},text:"Update",icon:"refresh",intent:"primary"}))},J=function(e){var t=e.children;return r.a.createElement(f.g,null,r.a.createElement(f.i,{align:b.a.LEFT},r.a.createElement(f.j,null,"Iframe Tester"),r.a.createElement(f.h,null)),t)},R=Object(C.b)({name:"ui",initialState:{darkMode:!1},reducers:{toggleDarkMode:function(e,t){var a=t.payload;e.darkMode=a}}}),V=R,B=R.actions.toggleDarkMode,G=function(){var e=Object(d.b)(),t=Object(d.c)(k);return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.e,{icon:t?"moon":"flash"}),r.a.createElement(f.l,{checked:t,onChange:function(t){var a=t.target.checked;e(B(a))}}))},$=function(){var e=Object(n.useState)(!1),t=Object(m.a)(e,2),a=t[0],c=t[1],o=Object(d.c)(w),l=0===o.length?r.a.createElement("span",{className:"no-logs"},"(empty)"):o.map((function(e){return r.a.createElement(r.a.Fragment,{key:e.date},e.content)}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{onClick:function(){c(!a)},text:a?"Close Log Viewer":"Open Log Viewer"}),r.a.createElement(f.b,{isOpen:a},r.a.createElement(f.k,null,l)))};var q=function(){var e=Object(n.useState)(!1),t=Object(m.a)(e,2),a=t[0],c=t[1],o=Object(d.c)(E),i=Object(d.c)(k),g=Object(d.c)(p);Object(n.useEffect)((function(){i?document.body.classList.add("bp3-dark"):document.body.classList.remove("bp3-dark")})),Object(n.useEffect)((function(){(function(){var e=Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ubbleLoaded;case 2:c(!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}));var v=h()(Object(l.a)({},"bp3-dark",i)),O=!!g,j=a?r.a.createElement(W,{refreshTs:o}):r.a.createElement("div",null,"Loading");return r.a.createElement("div",{className:v},r.a.createElement(J,null,r.a.createElement(f.i,{align:b.a.RIGHT},r.a.createElement(G,null))),r.a.createElement("div",{className:"content"},r.a.createElement(H,null),r.a.createElement(f.c,null),r.a.createElement("div",{className:"iframe-container"},O?j:r.a.createElement("div",null,"Enter an ",r.a.createElement("strong",null,"Identification URL")," to continue"),r.a.createElement(f.c,null),r.a.createElement("div",{className:"log-viewer-container"},r.a.createElement($,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var z=a(8),K=a(45),P=a.n(K),Q=a(18),X=Object(z.c)({app:N.reducer,ui:Object(Q.a)({key:"ui",storage:P.a},V.reducer)}),Y=Object(C.a)({reducer:X});var Z=Object(Q.b)(Y),_=Y,ee=a(46);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(d.a,{store:_},r.a.createElement(ee.a,{persistor:Z},r.a.createElement(q,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},96:function(e,t,a){e.exports=a(133)}},[[96,1,2]]]);
//# sourceMappingURL=main.70683370.chunk.js.map